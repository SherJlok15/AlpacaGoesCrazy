(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{64:function(e,n,t){},65:function(e,n,t){},79:function(e,n,t){"use strict";t.r(n);var c=t(4),r=t.n(c),a=t(40),i=t.n(a),o=(t(64),t(65),t(11)),l=t(89),d=t(90),s=t(88),u=t(2),j=new l.a({uri:"https://countries.trevorblades.com/",cache:new d.a});function b(e){return Object(u.jsx)(s.a,Object(o.a)({client:j},e))}var O=t(22),h=t(56),m=Object(c.createContext)(),p=Object(c.createContext)(),f=function(e,n){var t=n.type,c=n.payload;switch(t){case"SET_CONTINENTS":return Object(o.a)(Object(o.a)({},e),{},{data:c.continents});case"SET_NEW_CONTINENT":var r=Object(h.a)(e.data);return r.push(c),console.log(r),Object(o.a)(Object(o.a)({},e),{},{data:r});case"SET_LAST_NODE_CLICK":return Object(o.a)(Object(o.a)({},e),{},{lastNodeClicks:c});default:return e}},v={data:null,lastNodeClicks:null},x=function(e){var n=e.children,t=Object(c.useReducer)(f,v),r=Object(O.a)(t,2),a=r[0],i=r[1];return Object(u.jsx)(p.Provider,{value:i,children:Object(u.jsx)(m.Provider,{value:a,children:n})})},g=function(){return Object(c.useContext)(m)},C=function(){return Object(c.useContext)(p)},N=t(55),T=t(91),y=t(92);function _(e){var n=e.children,t=e.close,a=C(),i=Object(c.useState)(!1),o=Object(O.a)(i,2),l=o[0],d=o[1];return Object(c.useEffect)((function(){t&&(d(!1),a({type:"SET_LAST_NODE_CLICK",payload:null}))}),[t]),Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("h3",{onClick:function(e){d(!l)},children:n[0]}),r.a.cloneElement(n[1],{isOpen:l})]})}var E,S=function(e){var n=e.isOpen,t=e.children;return Object(u.jsx)(c.Fragment,{children:n?Object(u.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)("li",{children:e})}))}):""})};function k(e){var n=e.item,t=g().lastNodeClicks;return Object(u.jsx)("div",{children:Object(u.jsxs)(_,{close:!((null===t||void 0===t?void 0:t.continentCode)!==n.code||!(null===t||void 0===t?void 0:t.close)),children:[0===n.countries.length?"".concat(n.name," (--empty)"):n.name,Object(u.jsx)(S,{children:n.countries.map((function(e){return Object(u.jsx)("div",{className:"country",children:Object(u.jsx)(I,{country:e,continentCode:n.code})})}))})]})})}function I(e){var n,t=e.country,c=e.continentCode;return Object(u.jsx)("div",{children:Object(u.jsxs)(_,{children:[0===t.languages.length?"- ".concat(t.name," (--empty)"):"- "+t.name,Object(u.jsx)(S,{children:null===(n=t.languages)||void 0===n?void 0:n.map((function(e,n,t){return Object(u.jsx)(L,{language:e.name,continentCode:n===t.length-1?c:null},e.name)}))})]})})}function L(e){var n=e.language,t=e.continentCode,c=C();return Object(u.jsx)("div",{className:"language",onClick:t?function(){c({type:"SET_LAST_NODE_CLICK",payload:{continentCode:t,close:!0}})}:null,children:"-- "+n})}var w=Object(T.a)(E||(E=Object(N.a)(["\nquery getContinents{\n  continents {\n    code\n    name\n    countries {\n      code\n      name\n      languages {\n        name\n\t\t\t\tcode\n      }\n    } \n  }\n}\n"])));function A(){var e,n=C(),t=g().data;return Object(y.a)(w,{onCompleted:function(e){return n({type:"SET_CONTINENTS",payload:e})},onError:function(e){return console.log(e)}}).loading||!t?e=Object(u.jsx)("p",{children:"Loading"}):t&&(e=t.map((function(e){return Object(u.jsx)(k,{item:e},e.name)}))),Object(u.jsxs)("div",{id:"home-page",children:[t?Object(u.jsx)(R,{}):null,e]})}var D=t(44),K=t.n(D);var M={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function R(){var e,n=C(),t=Object(c.useState)(!1),r=Object(O.a)(t,2),a=r[0],i=r[1];function l(){i(!1),b({depthTree:"",numberOfchildren:""}),f("")}var d=Object(c.useState)({depthTree:"",numberOfchildren:""}),s=Object(O.a)(d,2),j=s[0],b=s[1],h=Object(c.useState)(""),m=Object(O.a)(h,2),p=m[0],f=m[1];return Object(u.jsxs)("div",{className:"add-content-modal",children:[Object(u.jsx)("button",{onClick:function(){i(!0)},children:"Add content"}),Object(u.jsxs)(K.a,{isOpen:a,onAfterOpen:function(){e.style.color="green"},onRequestClose:l,style:M,contentLabel:"Example Modal",children:[Object(u.jsxs)("div",{className:"add-content-modal__title",children:[Object(u.jsx)("h2",{ref:function(n){return e=n},children:"\u041d\u043e\u0432\u0438\u0439 \u043a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442"}),Object(u.jsx)("button",{onClick:l,children:"close"})]}),Object(u.jsxs)("form",{className:"add-content-modal__form",onSubmit:function(e){if(e.preventDefault(),console.log(),isNaN(+j.numberOfchildren)?f("\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0445 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432 \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u0427\u0438\u0441\u043b\u043e"):f(""),!isNaN(+j.numberOfchildren)&&""!==j.depthTree){var t=function(e,n){function t(e){return"New ".concat(e," ").concat(Math.random().toString().split(".")[1])}var c=t("continent"),r={code:c,name:c,countries:[]},a=e>2?2:e,i=n;if(0===a)return r;for(var o=0;o<i;o++){var l=t("country");r.countries.push({code:l,name:l,languages:[]})}return 2===a&&r.countries.map((function(e){for(var n=0;n<i;n++){var c=t("language");e.languages.push({code:c,name:c})}return e})),r}(+j.depthTree,+j.numberOfchildren);n({type:"SET_NEW_CONTINENT",payload:t}),l()}},children:[Object(u.jsxs)("div",{className:"add-content-modal__depthTree-change",children:[Object(u.jsx)("p",{children:"\u0413\u043b\u0443\u0431\u0438\u043d\u0430"}),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:"0",name:"depthTree",onClick:function(e){b(Object(o.a)(Object(o.a)({},j),{},{depthTree:e.target.value}))}}),Object(u.jsx)("span",{children:"\u041f\u0443\u0441\u0442\u0438\u0439 \u043a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:"1",name:"depthTree",onClick:function(e){b(Object(o.a)(Object(o.a)({},j),{},{depthTree:e.target.value}))}}),Object(u.jsx)("span",{children:"\u041a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442 \u0437 \u043a\u0440\u0430\u0457\u043d\u0430\u043c\u0438"})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:"2",name:"depthTree",onClick:function(e){b(Object(o.a)(Object(o.a)({},j),{},{depthTree:e.target.value}))}}),Object(u.jsx)("span",{children:"\u041a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442 \u0437 \u043a\u0440\u0430\u0457\u043d\u0430\u043c\u0438 \u0456 \u043c\u043e\u0432\u0430\u043c\u0438"})]})]}),Object(u.jsx)("div",{className:"add-content-modal__numberOfchildren-change",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0445 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0456\u0432"}),Object(u.jsx)("input",{type:"text",value:j.numberOfchildren,onChange:function(e){b(Object(o.a)(Object(o.a)({},j),{},{numberOfchildren:e.target.value}))}})]})}),Object(u.jsx)("div",{className:"add-content-modal__error",children:""!==p.trim()?p:""}),Object(u.jsx)("button",{type:"submit",disabled:""===j.depthTree.trim()||""===j.numberOfchildren.trim(),children:"Add new continent"})]})]})]})}K.a.setAppElement("body");var q=function(){return Object(u.jsx)(b,{children:Object(u.jsx)(x,{children:Object(u.jsx)(A,{})})})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.7ac714ad.chunk.js.map